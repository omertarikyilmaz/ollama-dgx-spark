<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ollama Haber SÄ±nÄ±flandÄ±rÄ±cÄ± - KV Cache YÃ¶netimi</title>
    <link rel="stylesheet" href="index.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <span class="logo-icon">âš¡</span>
                <h1>Ollama Haber SÄ±nÄ±flandÄ±rÄ±cÄ±</h1>
            </div>
            <div class="header-status">
                <span id="ollama-status" class="status-indicator">
                    <span class="status-dot"></span>
                    <span class="status-text">BaÄŸlanÄ±yor...</span>
                </span>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Left Panel: Templates -->
            <aside class="panel templates-panel">
                <div class="panel-header">
                    <h2>ğŸ“‹ Åablonlar</h2>
                    <button id="new-template-btn" class="btn btn-primary">+ Yeni</button>
                </div>
                <div id="templates-list" class="templates-list">
                    <!-- Templates will be loaded here -->
                </div>
            </aside>

            <!-- Center: Classification -->
            <section class="panel main-panel">
                <div class="panel-header">
                    <h2>ğŸ“° Haber SÄ±nÄ±flandÄ±rma</h2>
                    <div class="selected-template" id="selected-template">
                        <span class="label">Åablon:</span>
                        <span class="value" id="selected-template-name">SeÃ§iniz...</span>
                    </div>
                </div>

                <div class="classification-area">
                    <div class="input-section">
                        <label for="news-input">Haber Metni</label>
                        <textarea id="news-input" placeholder="SÄ±nÄ±flandÄ±rÄ±lacak haber metnini buraya yapÄ±ÅŸtÄ±rÄ±n..."
                            rows="8"></textarea>
                        <div class="input-actions">
                            <button id="classify-btn" class="btn btn-large btn-primary" disabled>
                                <span class="btn-icon">ğŸš€</span>
                                SÄ±nÄ±flandÄ±r
                            </button>
                            <button id="clear-btn" class="btn btn-secondary">Temizle</button>
                        </div>
                    </div>

                    <div class="result-section" id="result-section">
                        <div class="result-header">
                            <h3>SonuÃ§</h3>
                            <div class="metrics" id="metrics">
                                <span class="metric">
                                    <span class="metric-label">SÃ¼re:</span>
                                    <span class="metric-value" id="response-time">--</span>
                                </span>
                                <span class="metric">
                                    <span class="metric-label">HÄ±z:</span>
                                    <span class="metric-value" id="tokens-per-sec">--</span>
                                </span>
                            </div>
                        </div>
                        <div id="result-content" class="result-content">
                            <div class="placeholder">SonuÃ§ burada gÃ¶rÃ¼necek...</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Right Panel: Settings & Template Editor -->
            <aside class="panel settings-panel">
                <div class="panel-tabs">
                    <button class="tab-btn active" data-tab="settings">âš™ï¸ Ayarlar</button>
                    <button class="tab-btn" data-tab="editor">âœï¸ Åablon DÃ¼zenle</button>
                </div>

                <!-- Settings Tab -->
                <div id="settings-tab" class="tab-content active">
                    <div class="settings-section">
                        <h3>KV Cache AyarlarÄ±</h3>
                        <div class="form-group">
                            <label for="kv-cache-type">Quantization</label>
                            <select id="kv-cache-type">
                                <option value="q4_0">Q4_0 (En HÄ±zlÄ±)</option>
                                <option value="q8_0" selected>Q8_0 (Dengeli)</option>
                                <option value="f16">F16 (En Kaliteli)</option>
                            </select>
                            <small>DÃ¼ÅŸÃ¼k quantization = daha hÄ±zlÄ±, daha az bellek</small>
                        </div>
                        <div class="form-group">
                            <label for="num-parallel">Paralel Ä°stek</label>
                            <input type="number" id="num-parallel" value="4" min="1" max="16">
                            <small>AynÄ± anda iÅŸlenecek istek sayÄ±sÄ±</small>
                        </div>
                        <div class="form-group">
                            <label for="keep-alive">Keep Alive</label>
                            <input type="text" id="keep-alive" value="10m">
                            <small>Model bellekte kalma sÃ¼resi (Ã¶rn: 5m, 1h)</small>
                        </div>
                        <button id="save-settings-btn" class="btn btn-primary">AyarlarÄ± Kaydet</button>
                    </div>
                </div>

                <!-- Template Editor Tab -->
                <div id="editor-tab" class="tab-content">
                    <form id="template-form" class="template-editor">
                        <input type="hidden" id="template-id">
                        <div class="form-group">
                            <label for="template-name">Åablon AdÄ±</label>
                            <input type="text" id="template-name" placeholder="Ã–rn: Ä°stanbul Emniyet">
                        </div>
                        <div class="form-group">
                            <label for="template-model">Model</label>
                            <select id="template-model" disabled>
                                <option value="qwen2.5:32b-instruct-q4_K_M" selected>Qwen 2.5 32B</option>
                            </select>
                            <small>Sabit model - deÄŸiÅŸtirilemez</small>
                        </div>
                        <div class="form-group">
                            <label for="template-prompt">Sistem Prompt'u</label>
                            <textarea id="template-prompt" rows="6"
                                placeholder="Haberleri sÄ±nÄ±flandÄ±racak AI asistanÄ±n aÃ§Ä±klamasÄ±..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>Ã‡Ä±ktÄ± AlanlarÄ± (JSON Schema)</label>
                            <div id="tools-editor" class="tools-editor">
                                <!-- Dynamic fields will be added here -->
                            </div>
                            <button type="button" id="add-field-btn" class="btn btn-secondary btn-small">+ Alan
                                Ekle</button>
                        </div>
                        <div class="form-group form-row">
                            <div>
                                <label for="template-keepalive">Keep Alive</label>
                                <input type="text" id="template-keepalive" value="10m">
                            </div>
                            <div>
                                <label for="template-ctx">Context Size</label>
                                <input type="number" id="template-ctx" value="4096">
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Åablonu Kaydet</button>
                            <button type="button" id="delete-template-btn" class="btn btn-danger"
                                style="display:none;">Sil</button>
                        </div>
                    </form>
                </div>
            </aside>
        </main>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <script src="app.js"></script>
</body>

</html>